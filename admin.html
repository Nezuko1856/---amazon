<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h1>‚ö° –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
                <p>–ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤</p>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard">
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-icon"></div>
                    <div class="stat-info">
                        <h3>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤</h3>
                        <p class="stat-number">{{ total_reviews }}</p>
                    </div>
                </div>
                
                <div class="stat-card positive">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3>–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ</h3>
                        <p class="stat-number">{{ positive_count }}</p>
                    </div>
                </div>
                
                <div class="stat-card negative">
                    <div class="stat-icon">‚ùå</div>
                    <div class="stat-info">
                        <h3>–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ</h3>
                        <p class="stat-number">{{ negative_count }}</p>
                    </div>
                </div>
                
                <div class="stat-card spam">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-info">
                        <h3>–û–±–Ω–∞—Ä—É–∂–µ–Ω —Å–ø–∞–º</h3>
                        <p class="stat-number">{{ spam_count }}</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h2> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h2>
                    <div class="products-stats">
                        {% if product_stats %}
                            {% for product in product_stats %}
                            <div class="product-stat">
                                <h4>{{ product.name }}</h4>
                                <p>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤: {{ product.total_reviews }}</p>
                                <p>–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö: {{ product.positive }} | –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö: {{ product.negative }} | –°–ø–∞–º: {{ product.spam }}</p>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="product-stat">
                                <h4>–ù–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</h4>
                                <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h2>‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                    <div class="system-info">
                        <p><strong>–¢–æ—á–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏:</strong> 92.7%</p>
                        <p><strong>–¢–æ—á–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–ø–∞–º–∞:</strong> 95%</p>
                        <p><strong>–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:</strong> 30‚Äì50 –º—Å</p>
                        <p><strong>–ú–æ–¥–µ–ª—å:</strong> TensorFlow Neural Network</p>
                        <p><strong>–û–±—É—á–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:</strong> 500,000+ Amazon Reviews</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-card full-width">
                <h2>üìù –í—Å–µ –æ—Ç–∑—ã–≤—ã</h2>
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>–ü—Ä–æ–¥—É–∫—Ç</th>
                                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                <th>–û—Ü–µ–Ω–∫–∞</th>
                                <th>–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞</th>
                                <th>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</th>
                                <th>–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</th>
                                <th>–ü—Ä–∏—á–∏–Ω–∞</th>
                                <th>–í—Ä–µ–º—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if reviews %}
                                {% for review in reviews %}
                                <tr class="review-row {{ review.prediction }}">
                                    <td>{{ review.product_name }}</td>
                                    <td>{{ review.user_name }}</td>
                                    <td>
                                        {% for i in range(5) %}
                                            {% if i < review.rating|int %}
                                                ‚≠ê
                                            {% else %}
                                                ‚òÜ
                                            {% endif %}
                                        {% endfor %}
                                    </td>
                                    <td class="review-text-cell">{{ review.text[:100] }}{% if review.text|length > 100 %}...{% endif %}</td>
                                    <td>
                                        <span class="sentiment-badge {{ review.prediction }}">
                                            {% if review.prediction == 'positive' %}‚úÖ
                                            {% elif review.prediction == 'negative' %}‚ùå
                                            {% else %}‚ö†Ô∏è{% endif %}
                                            {{ review.prediction|upper }}
                                        </span>
                                    </td>
                                    <td>{{ "%.1f"|format(review.confidence * 100) }}%</td>
                                    <td>{{ review.reason if review.reason != 'OK' else '–í–∞–ª–∏–¥–Ω—ã–π' }}</td>
                                    <td>{{ review.timestamp }}</td>
                                </tr>
                                {% endfor %}
                            {% else %}
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 40px;">
                                        <div style="font-size: 3em;"></div>
                                        <h3>–û—Ç–∑—ã–≤–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                                        <p>–û—Ç–∑—ã–≤—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                                    </td>
                                </tr>
                            {% endif %}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="dashboard-card">
                <h2>üîç –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–ø–∞–º–∞</h2>
                <ul class="rules-list">
                    <li>–¢–µ–∫—Å—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–æ–ª–µ–µ 30% —Ü–∏—Ñ—Ä = SPAM</li>
                    <li>–¢–µ–∫—Å—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–æ–ª–µ–µ 30% —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ = SPAM</li>
                    <li>–¢–µ–∫—Å—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–µ–Ω–µ–µ 40% –±—É–∫–≤ = SPAM</li>
                    <li>–°–º–µ—à–∞–Ω–Ω—ã–µ –±—É–∫–≤–µ–Ω–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–ª–æ–≤–∞ = SPAM</li>
                    <li>–ù–µ–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã = SPAM</li>
                    <li>–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —à–∞–±–ª–æ–Ω—ã = SPAM</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const rows = document.querySelectorAll('.admin-table tbody tr');
            rows.forEach((row, index) => {
                row.style.opacity = '0';
                row.style.transform = 'translateX(-20px)';
                
                setTimeout(() => {
                    row.style.transition = 'all 0.5s ease';
                    row.style.opacity = '1';
                    row.style.transform = 'translateX(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>

